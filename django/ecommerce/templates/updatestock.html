{% extends 'index.html' %}
{% load widget_tweaks %}

{% block content %}
{% if messages %}
    {% for message in messages %}
        <p class="d-none" id="messagetag">{{message.tags}}</p>
        <p class="d-none " id="messagecontent">{{message}}</p>
    {% endfor %}
    {% endif %}
<body>
  <div class="container-fluid py-4">
  <div class="admin-add-main ">
    <form class='admin-add-user shadow-sm px-5 pt-4 col-6' method="POST" enctype="multipart/form-data" >
        <h4>Update Product</h4><br>
        {% csrf_token %}
        <div class="form-group mb-4 col-12">
            <label for="productname">Product Name</label>
            <div class="input-group">
                <span class="input-group-text" id="basic-addon1">
                    <span class="fas fa-user-circle"></span>
                </span>
                {{ form.Product_name }}
            </div>  
        </div>                      
          <div class="form-group mb-4 col-12">
            <label for="price">Price</label>
            <div class="input-group">
                <span class="input-group-text" id="basic-addon1">
                    <span class="fas fa-user-circle"></span>
                </span>
                {{ form.Price }}
            </div>  
        </div>                        
        <div class="form-group mb-4 col-12">
            <label for="quantity">Quantity</label>
            <div class="input-group">
                <span class="input-group-text" id="basic-addon1">
                    <span class="fas fa-user-circle"></span>
                </span>
                {{ form.Quantity }}
            </div>  
        </div>                       
         <div class="form-group mb-4 col-12">
            <h6>Current Image:</h6>
            <div >
                <img class="img-fluid rounded" width="250px"     src="{{media_url}}{{Image}}" alt="Current produtct Image">
            </div>
            <br>
            <label class="d-inline" for="image"><a class="btn btn-primary" onclick="myFunction()" id="switch_btn">Choose new Image </a> </label>
            <br>
            <br>
            <div class="input-group d-none" id="img_input">
                <span class="input-group-text" id="basic-addon1">
                    <span class="fas fa-user-circle"></span>
                </span>

                    {%render_field form.Image class='form-control' %}
            </div>   
        </div>                       
         <div class="form-group mb-4 col-12">
            <label for="email">Id</label>
            <div class="input-group">
                <span class="input-group-text" id="basic-addon1">
                    <span class="fas fa-user-circle"></span>
                </span>
                {{ form.id }}
            </div>  
        </div>
        <br>
        <button type="submit" class="btn bg-gray-800 btn-rounded rounded-2 text-white">Update</button> <br>
    </form>

  </div>
</body>
<style>
    .admin-add-main{
        position: relative;
        display:flex;
        justify-content:center;
    }
    .add-msg{
        position:absolute;
        top:0;
        width:40rem;
        height:5rem;
        display:flex;
        justify-content:space-between;
        align-items:center;
        border-radius:.5rem;
    }
    .add-msg p{
        padding:0rem 2rem 0 0;
        font-size:2rem;
        cursor: pointer;

    }
    .add-msg ul{
        padding:0 0 0 1rem;
        font-size:1rem;
        list-style: none;
    }
    .admin-add-user{
        display:flex;
        flex-direction:column;
        align-items:center;
    }
    .admin-add-user input{

        width: 25rem;
    }

</style>
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
<script type="text/javascript">
    function myFunction() {
  // Get the checkbox
  var btn = document.getElementById("switch_btn");
  // Get the output text

  var img_input = document.getElementById("img_input");
  img_input.classList.toggle("d-none")
        // console.log(img_input.classList.contains("d-none"));
  if (img_input.classList.contains("d-none") == true  ) {
    btn.innerHTML = "Choose new Image "

  }else{
    btn.innerHTML = "Continue with old Image"

  }


}
    $('#close').on('click', function(e) { 
        $(this).parent('.alert').remove(); 
        
     });
     $('.alert').ready( function() {
        $('.alert').delay(1000).fadeOut("fast");
      });
</script>

    
{% endblock content %}